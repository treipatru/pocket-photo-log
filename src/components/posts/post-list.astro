---
import { type Post } from "@/entities/posts";
import PostPreview from "@/components/posts/post/post-preview";

interface Props {
	posts: Post[];
}

const { posts } = Astro.props;

const activeTagId = Astro.url.pathname.match(/\/tags\/([^\/?]+)/)?.[1];
const activeYear = Astro.url.searchParams.get("year") ?? undefined;
---

<div class="flex flex-col gap-y-24 md:gap-y-32 max-w-[600px] m-auto">
	{
		posts.map((post) => (
			<PostPreview
				activeTagId={activeTagId}
				activeYear={activeYear}
				post={post}
			/>
		))
	}
</div>
