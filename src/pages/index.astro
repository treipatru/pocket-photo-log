---
import { apiClient } from "@/lib/api/api-client";
import BlogLayout from "@/layouts/blog-layout.astro";
import Hero from "@/components/hero.astro";
import PostList from "@/components/posts/post-list.astro";
import PostListPagination from "@/components/posts/post-list-pagination.astro";

const posts = await apiClient.collection("posts").getList(1, 20, {
	sort: "-created",
	expand: "tags",
});

const { items, ...pagination } = posts;
---

<BlogLayout>
	<Hero slot="hero" />

	<PostList posts={posts.items} />

	<PostListPagination {...pagination} url="/posts" />
</BlogLayout>
